return function(Window)
    local PlayerTab = Window:CreateTab("Player", "users")

    PlayerTab:CreateSection("Anti Idle Kick")

local afkEnabled = false

local function antiAFK()
    while afkEnabled do
        -- Simulate key press to prevent AFK
        game:GetService("VirtualInputManager"):SendKeyEvent(true, "Space", false, game)
        wait(0.1)
        game:GetService("VirtualInputManager"):SendKeyEvent(false, "Space", false, game)
        wait(29) -- Wait 29 seconds before next input (Roblox AFK timer is ~30s)
    end
end

local Toggle = PlayerTab:CreateToggle({
    Name = "Anti-AFK",
    CurrentValue = false,
    Flag = "AntiAFKToggle",
    Callback = function(Value)
        afkEnabled = Value
        if Value then
            coroutine.wrap(antiAFK)()
            print("Anti-AFK enabled")
        else
            print("Anti-AFK disabled")
        end
    end,
})
end
